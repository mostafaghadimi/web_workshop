<div dir="rtl">

#داکر چیست و چگونه کار میکند؟

در واقع داکر (Docker) یک پلتفرم متن باز است که مبتنی بر سیستم‌عامل لینوکس راه‌اندازی شده است؛ و بر روی سایت سیستم عامل های مطرح جهان نیز کار می کند.

بر روی سخت افزار خب یک سیستم عامل نصب میشه (مثلا لینوکس، ویندوز و ...)؛ بعد داکر مستقیم بر روی سیستم عامل نصب میشه، و از اون موقع به بعد شما داکر رو تقسیم بندی میکنی و هر بخشش رو واسه یه پروژه مجزا اختصاص میدی. پس این لایه ها رو داریم: 



<div dir="ltr">

    Infrastructure > Operation System > Docker > Container > App A

    Infrastructure > Operation System > Docker > Container > App B

    Infrastructure > Operation System > Docker > Container > App C 

    ...
</div>

![docker-pic](https://lamtakam.com/img/uploaded_images/1/1540452189.png)

#داکر چه کاربردی دارد؟
اصلی ترین هدف داکر ساخت و ایجاد یک فضای ایزوله برای اپلیکیشن هایی هست که داریم؛ تا بتونیم به صورت مستقل از هم اجراشون کنیم و برای هر اپلیکیشن تمام وابستگی هاشو (dependencies) کنارش نصب کنیم؛ که خب این باعث میشه اپلیکیشن (کلا پروژه ما) یک ماژول (که توی داکر بهش می گن container) مجزا که خب یعنی یک اپلیکیشن قابل حمل بر روی هر سرور و کامپیوتر دیگه بدون نصب دوباره هیچ چیزی؛ چرا که تمام نیازمندی های پروژه توی container یکبار نصب شدن.

مثال: شما یک وب سایت طراحی کردی، وقتی می بری روی سرور، باید php رو نصب کنی، mysql یا sqlserver یا هر دیتابیس دیگه ای رو برای پروژه نصب کنی، کلی افزونه نیاز هست که باید نصب کنی و ... !

در صورتی که تو می تونی پروژت رو تویه یک container در بستر داکر docker قرار بدی و از اون موقع به بعد اون container رو هرجایی که می خوای ببری و دیگه بدون نصب هیچ چیزی اجراش کنی؛ شایان ذکره که خیلی از پروژه ها روی ورژن های خاصی از مثلا php کار می کنن که در این صورت باز هم داکر فوق العادس که همون ورژن رو یک بار نصب می کنی و هیچوقت مشکل آپدیت شدن ورژن جدید حین نصب (که منجر میشه که عدم اجرا شدن پروژه) رو نخواهید داشت.



#فرق داکر با سایر مجازی سازها

یکی از مجازی سازهایی که معمولا داکر رو باهاش مقایسه می کنن VMware هستش که خب اونم یک نرم افزار مجازی سازه سخت افزار رو تقسیم می کنه و میشه روش پروژه های متفاوتی رو به صورت جداگانه بالا آورد. خب به طور کلی اره میشه گفت مشابه هست خروجی کارشون. ولی، معماری VMware متفاوته؛ یعنی میاد در لایه ی سخت افزار میشینه و اون رو چندین بخش می کنه، بعد روی هر کدوم از بخش ها سیستم عامل جداگانه و مختص به خودش رو نصب می کنه و بعد هم پروژه رو گانفیگ میکنه و نهایتا پروژه بالا میاد.

در صورتی که داکر روی لایه ی سیستم عامل میشینه؛ یعنی سخت افزار اختصاص داده شده، سیستم عامل یک بار نصب شده، و بعد ما میایم یک سری container میسازیم و پروژه هامون رو بالا میاریم. این تصویری هست از معماری VMware:

![vmware-pic](https://lamtakam.com/img/uploaded_images/1/1540452647.png)

و این هم یک تصویر مقایسه ای از داکر و سایر مجازی سازها:

![vmware-vs-docker-pic](https://lamtakam.com/img/uploaded_images/1/1540452835.jpeg)

##سه مفهوم اصلی در داکر:
###Image

Image‌ها را در داکر پس از دریافت اجرا می‌کنیم. همانطور که در تصویر پایین می‌بینید یک Base Image مانند Debian روی این داکر نصب شده است و روی آن Image‌های دیگر را نصب کرده ایم.

در واقع Image‌ها پس از پایان به حالت اولیه خود باز می‌گردند چرا که همانطور از نام آن‌ها مشخص است تنها یک تصویری از پکیج اصلی هستند. برای حذف تغییرات Image می‌توان حالت آن‌ها را با دستورات خاصی ذخیره کرد.

![image](https://lamtakam.com/img/uploaded_images/1/1540453046.jpeg)

###Hub
هاب یک سرویس اشتراک گذاری تهیه شده توسط خود شرکت Docker است که شامل مخزنی از image‌های آماده برای Docker است. این مخزن حاوی چندین هزار برنامه و سیستم عامل است که می‌توان به آن image‌هایی را هم اضافه کرد.

###Container
همانطور که پیش تر هم به صورت خلاصه در رابطه با کانتینرها گفته شد، می‌توان گفت Container ظرفی است که Image‌ها را در آن اجرا می‌کنند. Container‌ها از روی Image‌ها ایجاد می‌شوند و به وظایف خود عمل می‌کنند. به عنوان مثال تصور کنید از یک Centos چند Container می‌سازیم و در هر کدام تغییرات متفاوتی اعمال می‌کنیم.


<div dir="ltr">

    sudo apt install docker.io docker-compose
    
</div>






</div>
